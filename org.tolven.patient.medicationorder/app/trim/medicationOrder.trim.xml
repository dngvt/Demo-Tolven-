<?xml version="1.0" encoding="UTF-8"?>
<trim xmlns="urn:tolven-org:trim:4.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:tolven-org:trim:4.0 http://tolven.org/xsd/trim4">
	<extends>patientAct</extends>
	<name>sbadm/rqo/medicationorder</name>
	<description>Medication Order</description>
	<page>medicationOrder.xhtml</page>
	<drilldown>medicationOrderDD.xhtml</drilldown>
	<menu>global:medicationOrderMenu</menu>
	<reference>http://www.wikihit.org/wiki/index.php/Medication</reference>
	<application name="ephr">
		<instance>ephr:patient:medicationorder</instance>
		<wip>ephr:activity:all</wip>
	</application>
	<application name="echr">
		<instance>echr:patient:medicationorder</instance>
		<wip>echr:activity:all</wip>
	</application>
	<transitions path="trim.act.statusCodeValue">
		<transition name="create" to="active">
			<label language="en">Active</label>
		</transition>
		<transition name="nullifiedActive" from="active" to="nullified">
			<label language="en">Entered in Error</label>
		</transition>
		<transition name="abortedActive" from="active" to="aborted">
			<label language="en">Discontinue</label>
		</transition>
		<transition name="reviseActive" from="active" to="active">
			<label language="en">Revise</label>
		</transition>
	</transitions>
	<act classCode="SBADM" moodCode="RQO">
		<bind application="echr" phase="create">
			<placeholder bindAction="merge">
				<path>echr:patient:medicationorder</path>
			</placeholder>
		</bind>
		<bind application="ephr" phase="create">
			<placeholder bindAction="merge">
				<path>ephr:patient:medicationorder</path>
			</placeholder>
		</bind>
		<id>
			<II>
				<label>Internal ID (do not change)</label>
				<root>#{computeIDRoot(account)}</root>
				<extension>#{medicationorder.path}</extension>
				<displayable>false</displayable>
			</II>
		</id>
		<statusCode>active</statusCode>
		<title>
			<ST>Medication Order</ST>
		</title>
		<text>
			<label>Instructions</label>
			<ED>
				<value></value>
			</ED>
		</text>
		<effectiveTime>
			<label>Start time</label>
			<new datatype="TS" function="now" />
		</effectiveTime>
		<substanceAdministration>
			<routeCode>
				<valueSet>route</valueSet>
				<CE>
					#{medicationorder.routeCE}
				</CE>
			</routeCode>
		</substanceAdministration>
		<participation name="consumable" typeCode="CSM">
			<role classCode="ADMM">
				<player classCode="MMAT" determinerCode="KIND">
					<code>
						<valueSet>#{trimName}/material</valueSet>
						<CE>
							#{medicationorder.codeCE}
						</CE>
					</code>
					<quantity>
						<PQ>
							<value>0.0</value>
							<unit></unit>
						</PQ>
					</quantity>
				</player>
			</role>
		</participation>
		<participation name="author" typeCode="AUT">
			<role classCode="ASSIGNED">
				<bind application="echr" phase="request">
					<list cardinality="multiple">
						<path>echr:admin:staff:all</path>
					</list>
				</bind>
				<id />
			</role>
		</participation>
		<relationship name="encounter" direction="IN" typeCode="COMP">
			<act classCode="OBS" moodCode="EVN">
				<bind application="echr" phase="create">
					<placeholder bindAction="exist" optional="true">
						<path>echr:patient:encounter</path>
					</placeholder>
				</bind>
				<bind application="ephr" phase="create">
					<placeholder bindAction="exist" optional="true">
						<path>ephr:patient:encounter</path>
					</placeholder>
				</bind>
				<bind application="echr" phase="request">
					<list cardinality="single">
						<path>echr:patient:encounters:active</path>
					</list>
				</bind>
				<id>
					<II>
						<root>#{computeIDRoot(account)}</root>
						<extension>#{encounter.path}</extension>
					</II>
				</id>
				<title>
					<ST>Encounter</ST>
				</title>
			</act>
		</relationship>
		<relationship typeCode="PERT" direction="OUT" name="route">
			<act moodCode="EVN" classCode="OBS">
				<observation>
					<value>
						<valueSet>route</valueSet>
						<CE>
							#{medicationorder.routeCE}
						</CE>
					</value>
				</observation>
			</act>
		</relationship>
		<relationship typeCode="PERT" direction="OUT" name="frequency">
			<act moodCode="EVN" classCode="OBS">
				<observation>
					<value>
						<valueSet>frequency</valueSet>
						<CE>
							#{medicationorder.frequencyCE}
						</CE>
					</value>
				</observation>
			</act>
		</relationship>
		<relationship typeCode="PERT" direction="OUT" name="strength">
			<act moodCode="EVN" classCode="OBS">
				<observation>
					<value>
						<ST>#{medicationorder.strength}</ST>
					</value>
				</observation>
			</act>
		</relationship>
		<relationship typeCode="PERT" direction="OUT" name="numberOfTimes">
			<act moodCode="EVN" classCode="OBS">
				<observation>
					<value>
						<ST>#{medicationorder.numberOfTimes}</ST>
					</value>
				</observation>
			</act>
		</relationship>
		<relationship typeCode="PERT" direction="OUT" name="startImmediately">
			<act moodCode="EVN" classCode="OBS">
				<observation>
					<value>
						<valueSet>booleanStatus</valueSet>
						<CE>
							#{medicationorder.startImmediatelyCE}
						</CE>
					</value>
				</observation>
			</act>
		</relationship>

	</act>
	<valueSet name="route">
		<CE>
			<displayName>Unknown</displayName>
			<code>410516002</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>1=by mouth (PO)</displayName>
			<code>C0547040</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>2=Sublingual (SL)</displayName>
			<code>C0547041</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>3=Intramuscular (IM)</displayName>
			<code>C0547042</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>4=Intravenous (IV)</displayName>
			<code>C0547043</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>5=Subcutaneous (SQ)</displayName>
			<code>C0547044</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>6=Rectal (R)</displayName>
			<code>C0547045</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>7=Topical</displayName>
			<code>C0547046</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>8=Inhalation</displayName>
			<code>C0547047</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>9=Enteral Tube</displayName>
			<code>C0547048</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>10=Other</displayName>
			<code>C0547049</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
	</valueSet>
	<valueSet name="frequency">
		<CE>
			<displayName>Unknown</displayName>
			<code>410516002</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>PR=(PRN) as necessary</displayName>
			<code>C0547040</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>1H=(QH) every hour (includes every 12 hrs)</displayName>
			<code>C0547041</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>2H=(Q2H) every two hours</displayName>
			<code>C0547042</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>3H=(Q3H) every three hours</displayName>
			<code>C0547043</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>4H=(Q4H) every four hours</displayName>
			<code>C0547044</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>6H=(Q6H) every six hours</displayName>
			<code>C0547045</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>8H=(Q8H) every eight hours</displayName>
			<code>C0547046</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>1D=(QD or HS) once daily</displayName>
			<code>C0547047</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>2D=(BID) two times daily</displayName>
			<code>C0547048</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>3D=(TID) three times daily</displayName>
			<code>C0547049</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>4D=(QID) four times daily</displayName>
			<code>C0547050</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>5D=five times daily</displayName>
			<code>C0547051</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>1W=(Q week) once each week</displayName>
			<code>C0547052</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>2W=two times every week</displayName>
			<code>C0547053</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>3W=three times every week</displayName>
			<code>C0547054</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>QO=every other day</displayName>
			<code>C0547055</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>4W=4 times each week</displayName>
			<code>C0547056</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>5W=five times each week</displayName>
			<code>C0547057</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>6W=six times each week</displayName>
			<code>C0547058</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>1M=(Q month) once every month</displayName>
			<code>C05470590</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>2M=twice every month</displayName>
			<code>C0547060</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>C=continuous</displayName>
			<code>C0547061</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>O=other</displayName>
			<code>C0547062</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
	</valueSet>
	<valueSet name="booleanStatus">
		<CE>
			<displayName>Yes</displayName>
			<code>C0580910</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
		<CE>
			<displayName>No</displayName>
			<code>C0580911</code>
			<codeSystem>2.16.840.1.113883.6.56</codeSystem>
			<codeSystemVersion>2007AA</codeSystemVersion>
		</CE>
	</valueSet>
</trim>
